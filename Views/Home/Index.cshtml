@model List<MyProject.Models.Shared.Product>

@{
    ViewData["Title"] = "Trang chủ";
}

<div class="relative py-20 mb-16 overflow-hidden bg-gradient-to-br from-brand-50 to-purple-50 rounded-2xl dark:from-gray-800 dark:to-gray-900">
    <div class="relative z-10 text-center">
        <h1 class="mb-6 text-5xl font-bold text-gray-900 dark:text-white">
            Chào mừng đến với <span class="text-brand-600">MyProject</span>
        </h1>
        <p class="max-w-2xl mx-auto mb-8 text-xl text-gray-600 dark:text-gray-300">
            Khám phá hàng nghìn sản phẩm chất lượng cao với giá tốt nhất
        </p>
        <div class="flex justify-center gap-4">
            <a href="#products" class="inline-flex items-center gap-2 px-6 py-3 text-lg text-white transition-all rounded-lg shadow-lg bg-brand-600 hover:bg-brand-700 hover:shadow-xl">
                <i class="fas fa-shopping-bag"></i>
                <span>Mua sắm ngay</span>
            </a>
            <a href="#about" class="inline-flex items-center gap-2 px-6 py-3 text-lg text-gray-700 transition-all bg-white border-2 border-gray-300 rounded-lg hover:border-brand-600 hover:text-brand-600 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600">
                <i class="fas fa-info-circle"></i>
                <span>Tìm hiểu thêm</span>
            </a>
        </div>
    </div>
    
    <!-- Decorative elements -->
    <div class="absolute top-0 right-0 w-64 h-64 bg-brand-200 rounded-full opacity-20 -mr-32 -mt-32 dark:bg-brand-800"></div>
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-purple-200 rounded-full opacity-20 -ml-48 -mb-48 dark:bg-purple-800"></div>
</div>

<!-- Features -->
<div class="grid grid-cols-1 gap-8 mb-16 md:grid-cols-3">
    <div class="p-6 text-center bg-white border border-gray-200 rounded-xl dark:bg-gray-900 dark:border-gray-800">
        <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-full dark:bg-blue-900/20">
            <i class="text-3xl text-blue-600 fas fa-shipping-fast dark:text-blue-400"></i>
        </div>
        <h3 class="mb-2 text-xl font-semibold text-gray-900 dark:text-white">Giao hàng nhanh</h3>
        <p class="text-gray-600 dark:text-gray-400">Miễn phí vận chuyển cho đơn hàng trên 500.000đ</p>
    </div>

    <div class="p-6 text-center bg-white border border-gray-200 rounded-xl dark:bg-gray-900 dark:border-gray-800">
        <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full dark:bg-green-900/20">
            <i class="text-3xl text-green-600 fas fa-shield-alt dark:text-green-400"></i>
        </div>
        <h3 class="mb-2 text-xl font-semibold text-gray-900 dark:text-white">Thanh toán an toàn</h3>
        <p class="text-gray-600 dark:text-gray-400">Bảo mật thông tin thanh toán 100%</p>
    </div>

    <div class="p-6 text-center bg-white border border-gray-200 rounded-xl dark:bg-gray-900 dark:border-gray-800">
        <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-purple-100 rounded-full dark:bg-purple-900/20">
            <i class="text-3xl text-purple-600 fas fa-headset dark:text-purple-400"></i>
        </div>
        <h3 class="mb-2 text-xl font-semibold text-gray-900 dark:text-white">Hỗ trợ 24/7</h3>
        <p class="text-gray-600 dark:text-gray-400">Đội ngũ chăm sóc khách hàng luôn sẵn sàng</p>
    </div>
</div>

<!-- Products Section -->
<div id="products" class="mb-16">
    <div class="flex items-center justify-between mb-8">
        <div>
            <h2 class="text-3xl font-bold text-gray-900 dark:text-white">
                <i class="mr-2 fas fa-fire text-brand-600"></i>
                Sản phẩm nổi bật
            </h2>
            <p class="mt-2 text-gray-600 dark:text-gray-400">Những sản phẩm bán chạy nhất</p>
        </div>
        <a href="#" class="text-brand-600 hover:text-brand-700 dark:text-brand-400">
            Xem tất cả <i class="fas fa-arrow-right"></i>
        </a>
    </div>

    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4">
        @if (Model != null && Model.Any())
        {
            @foreach (var product in Model)
            {
                var firstImage = product.Images?.FirstOrDefault();
                var minPrice = product.Variants?.Where(v => v.Quanlity > 0).Min(v => v.Price) ?? 0;
                var maxPrice = product.Variants?.Where(v => v.Quanlity > 0).Max(v => v.Price) ?? 0;
                
                <div class="overflow-hidden transition-all bg-white border border-gray-200 rounded-xl hover:shadow-lg dark:bg-gray-900 dark:border-gray-800">
                    <a asp-controller="Products" asp-action="Details" asp-route-id="@product.ProductId" class="block">
                        <div class="relative">
                            @if (firstImage != null && !string.IsNullOrEmpty(firstImage.ImageUrl))
                            {
                                <img src="@firstImage.ImageUrl" alt="@product.ProductName" 
                                     class="object-cover w-full h-48 bg-gray-100 dark:bg-gray-800">
                            }
                            else
                            {
                                <div class="flex items-center justify-center h-48 bg-gray-100 dark:bg-gray-800">
                                    <i class="text-5xl text-gray-400 fas fa-image"></i>
                                </div>
                            }
                        </div>
                        <div class="p-4">
                            <h3 class="mb-2 font-semibold text-gray-900 truncate dark:text-white" title="@product.ProductName">
                                @product.ProductName
                            </h3>
                            <p class="mb-3 text-sm text-gray-500 truncate dark:text-gray-400" title="@product.Description">
                                @(string.IsNullOrEmpty(product.Description) ? "Sản phẩm chất lượng cao" : product.Description)
                            </p>
                            <div class="flex items-center justify-between">
                                <div>
                                    @if (minPrice == maxPrice)
                                    {
                                        <span class="text-lg font-bold text-brand-600 dark:text-brand-400">
                                            @minPrice.ToString("N0") ₫
                                        </span>
                                    }
                                    else
                                    {
                                        <span class="text-lg font-bold text-brand-600 dark:text-brand-400">
                                            @minPrice.ToString("N0") - @maxPrice.ToString("N0") ₫
                                        </span>
                                    }
                                </div>
                                <button onclick="event.preventDefault();" 
                                        class="flex items-center justify-center w-10 h-10 text-white transition-colors rounded-lg bg-brand-600 hover:bg-brand-700">
                                    <i class="fas fa-shopping-cart"></i>
                                </button>
                            </div>
                        </div>
                    </a>
                </div>
            }
        }
        else
        {
            <div class="col-span-4 py-12 text-center text-gray-500 dark:text-gray-400">
                <i class="mb-4 text-5xl fas fa-box-open"></i>
                <p class="text-lg">Chưa có sản phẩm nào</p>
            </div>
        }
    </div>
</div>

<!-- CTA Section -->
<div class="py-16 mb-16 text-center bg-gradient-to-r from-brand-600 to-purple-600 rounded-2xl">
    <h2 class="mb-4 text-3xl font-bold text-white">
        Đăng ký nhận thông tin ưu đãi
    </h2>
    <p class="max-w-2xl mx-auto mb-8 text-lg text-brand-100">
        Nhận ngay mã giảm giá 100.000đ cho đơn hàng đầu tiên
    </p>
    <div class="flex justify-center max-w-md gap-2 mx-auto">
        <input type="email" placeholder="Nhập email của bạn..." 
               class="flex-1 px-4 py-3 border-0 rounded-lg focus:ring-2 focus:ring-white">
        <button class="px-6 py-3 font-semibold text-brand-600 transition-colors bg-white rounded-lg hover:bg-gray-100">
            Đăng ký
        </button>
    </div>
</div>

<!-- Stats -->
<div class="grid grid-cols-2 gap-8 mb-16 md:grid-cols-4">
    <div class="text-center">
        <div class="mb-2 text-4xl font-bold text-brand-600 dark:text-brand-400">1000+</div>
        <div class="text-gray-600 dark:text-gray-400">Sản phẩm</div>
    </div>
    <div class="text-center">
        <div class="mb-2 text-4xl font-bold text-brand-600 dark:text-brand-400">5000+</div>
        <div class="text-gray-600 dark:text-gray-400">Khách hàng</div>
    </div>
    <div class="text-center">
        <div class="mb-2 text-4xl font-bold text-brand-600 dark:text-brand-400">99%</div>
        <div class="text-gray-600 dark:text-gray-400">Hài lòng</div>
    </div>
    <div class="text-center">
        <div class="mb-2 text-4xl font-bold text-brand-600 dark:text-brand-400">24/7</div>
        <div class="text-gray-600 dark:text-gray-400">Hỗ trợ</div>
    </div>
</div>

